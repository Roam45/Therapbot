<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Therapy Bot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f9;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .chat-container {
      background-color: white;
      padding: 20px;
      width: 360px;
      height: 500px;
      display: flex;
      flex-direction: column;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .chat-box {
      flex-grow: 1;
      overflow-y: auto;
      margin-bottom: 20px;
      padding-right: 10px;
    }

    .chat-message {
      margin: 10px 0;
    }

    .chat-message.user {
      text-align: right;
      font-weight: bold;
    }

    .chat-message.bot {
      text-align: left;
      color: #4CAF50;
    }

    .input-area {
      display: flex;
      justify-content: space-between;
    }

    input[type="text"] {
      width: 80%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-right: 10px;
      font-size: 16px;
    }

    button {
      padding: 10px 15px;
      border: none;
      background-color: #007BFF;
      color: white;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
    }

    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <h2>Therapy Bot</h2>
    <div class="chat-box" id="chatBox">
      <div class="chat-message bot">Hi there! How are you feeling today?</div>
    </div>
    <div class="input-area">
      <input type="text" id="userInput" placeholder="Type your message..." />
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <script>
    const botResponses = {
      default: [
        "I'm here for you. What's on your mind?",
        "I'm listening, tell me more about how you're feeling.",
        "It's okay to not be okay sometimes. Want to talk about it?",
        "Take your time, I'm here to help you through this."
      ],
      sad: [
        "I'm really sorry you're feeling that way. Want to share what's been bothering you?",
        "It's tough to feel sad. Do you want to talk about what's causing this?",
        "I hear you. Sometimes it helps to express how you're feeling."
      ],
      happy: [
        "That's wonderful! What's making you feel so good today?",
        "I'm so glad you're feeling happy! What's been going right?",
        "That's amazing! Whatâ€™s been bringing you joy lately?"
      ],
      stressed: [
        "It sounds like you're under a lot of pressure. Want to vent a little?",
        "Stress can be overwhelming. What do you think is the main source of it?",
        "I'm here to listen. If you feel like sharing, we can work through it together."
      ]
    };

    function sendMessage() {
      const userInput = document.getElementById('userInput').value.trim();
      if (userInput === "") return;

      const chatBox = document.getElementById('chatBox');

      // Display the user's message
      const userMessage = document.createElement('div');
      userMessage.classList.add('chat-message', 'user');
      userMessage.textContent = userInput;
      chatBox.appendChild(userMessage);

      // Clear the input field
      document.getElementById('userInput').value = '';

      // Scroll to the bottom of the chat box
      chatBox.scrollTop = chatBox.scrollHeight;

      // Simulate a response from the bot with a small delay
      setTimeout(() => {
        const botMessage = document.createElement('div');
        botMessage.classList.add('chat-message', 'bot');
        
        let botResponse = getBotResponse(userInput.toLowerCase());

        botMessage.textContent = botResponse;
        chatBox.appendChild(botMessage);

        // Scroll to the bottom after the bot response
        chatBox.scrollTop = chatBox.scrollHeight;
      }, 1000); // Delay bot response for effect
    }

    function getBotResponse(userInput) {
      if (userInput.includes("sad")) {
        return getRandomResponse(botResponses.sad);
      } else if (userInput.includes("happy")) {
        return getRandomResponse(botResponses.happy);
      } else if (userInput.includes("stress") || userInput.includes("worried")) {
        return getRandomResponse(botResponses.stressed);
      } else {
        return getRandomResponse(botResponses.default);
      }
    }

    function getRandomResponse(responsesArray) {
      const randomIndex = Math.floor(Math.random() * responsesArray.length);
      return responsesArray[randomIndex];
    }
  </script>
</body>
</html>
